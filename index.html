<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VEL TECH CALCULATOR</title>

<!-- FONT PAIRING -->
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@600;700&display=swap');

/* ===== ROOT COLORS ===== */
:root{
    --bg:#f1f5f9;
    --blue:#2563eb;
    --indigo:#4f46e5;
    --orange:#f59e0b;
    --green:#16a34a;
    --gray:#64748b;
    --danger:#dc2626;
}

/* ===== BASE ===== */
*{box-sizing:border-box}

body{
    margin:0;
    padding:30px;
    background:var(--bg);
    font-family:'Inter',system-ui,sans-serif;
    font-size:15px;
    line-height:1.6;
    color:#0f172a;
}

h1{
    font-family:'Poppins',sans-serif;
    font-size:32px;
    font-weight:700;
    text-align:center;
    margin-bottom:20px;
}

h2{
    font-family:'Poppins',sans-serif;
    font-size:22px;
    font-weight:600;
    margin-bottom:10px;
}

/* ===== CARDS ===== */
.card{
    background:white;
    padding:20px;
    border-radius:14px;
    box-shadow:0 10px 25px rgba(0,0,0,0.08);
    margin-bottom:20px;
    border-left:8px solid;
    font-size:15px;
}

.profile{border-color:var(--gray)}
.gpa{border-color:var(--blue)}
.cgpa{border-color:var(--indigo)}
.attendance{border-color:var(--orange)}
.internal{border-color:var(--green)}

.hidden{display:none}

/* ===== MENU ===== */
.menu{
    display:flex;
    justify-content:center;
    gap:10px;
    flex-wrap:wrap;
    margin-bottom:20px;
}

.menu button{
    font-family:'Inter',sans-serif;
    font-size:14px;
    font-weight:600;
    padding:10px 18px;
    border:none;
    border-radius:20px;
    background:#e5e7eb;
    cursor:pointer;
}

.menu button.active{
    background:var(--blue);
    color:white;
}

.section{
    display:none;
    max-width:950px;
    margin:auto;
}

/* ===== TABLE ===== */
table{
    width:100%;
    border-collapse:collapse;
    margin-top:10px;
    font-size:14px;
}

th,td{
    padding:10px;
    text-align:center;
    border-bottom:1px solid #ddd;
}

th{
    background:#eff6ff;
    font-weight:600;
}

/* ===== INPUTS ===== */
input,select{
    font-family:'Inter',sans-serif;
    font-size:14px;
    padding:8px;
    width:100%;
    border-radius:6px;
    border:1px solid #c7d2fe;
}

/* ===== BUTTONS ===== */
.btn{
    margin-top:15px;
    padding:10px 16px;
    border:none;
    border-radius:8px;
    background:var(--blue);
    color:white;
    font-size:14px;
    font-weight:600;
    cursor:pointer;
}

.btn.secondary{background:var(--gray)}

/* ===== RESULTS ===== */
.result{
    margin-top:15px;
    padding:12px;
    background:#f8fafc;
    border-radius:8px;
    font-weight:600;
}

.msg{
    margin-top:10px;
    padding:10px;
    border-radius:8px;
    color:white;
    font-size:14px;
    font-weight:500;
}

/* ===== ATTENDANCE BAR ===== */
.progress{
    height:16px;
    background:#e5e7eb;
    border-radius:10px;
    overflow:hidden;
    margin-top:8px;
}
.progress div{height:100%}

/* ===== FOOTER ===== */
footer{
    text-align:center;
    margin-top:40px;
    font-size:13px;
    letter-spacing:0.3px;
    color:#555;
}
</style>
</head>

<body>

<h1>VEL TECH ACADEMIC CALCULATOR</h1>

<!-- PROFILE -->
<div id="profileCard" class="card profile">
<h2>Student Profile</h2>
<input id="sname" placeholder="Student Name"><br><br>
<input id="regno" placeholder="Register Number"><br><br>
<input id="dept" placeholder="Department"><br><br>
<input id="sem" placeholder="Semester">
<button class="btn" onclick="proceed()">Proceed</button>
<div id="profileError" class="msg hidden" style="background:var(--danger)">
Fill all profile details
</div>
</div>

<div id="calculatorArea" class="hidden">

<div class="card profile">
<h2 id="helloText"></h2>
<p>Welcome to Vel Tech Calculator</p>
<strong id="profileSummary"></strong><br>
<button class="btn secondary" onclick="editProfile()">Edit Profile</button>
</div>

<div class="menu">
<button onclick="show('gpa',this)">GPA</button>
<button onclick="show('cgpa',this)">CGPA</button>
<button onclick="show('attendance',this)">Attendance</button>
<button onclick="show('internal',this)">Internal</button>
</div>

<!-- GPA -->
<div id="gpa" class="section card gpa">
<h2>GPA Calculator</h2>
<table id="gpaTable">
<tr><th>Course</th><th>Credits</th><th>Grade</th></tr>
<tr>
<td><input></td>
<td><input type="number" class="credit"></td>
<td>
<select class="grade">
<option value="">Select</option>
<option value="10">S</option>
<option value="9">A</option>
<option value="8">B</option>
<option value="7">C</option>
<option value="6">D</option>
<option value="0">RA</option>
</select>
</td>
</tr>
</table>
<button class="btn" onclick="addGPARow()">Add Course</button>
<button class="btn" onclick="calcGPA()">Calculate GPA</button>
<div class="result" id="gpaResult"></div>
<div id="gpaMsg" class="msg hidden"></div>
</div>

<!-- CGPA -->
<div id="cgpa" class="section card cgpa">
<h2>CGPA Calculator (Manual)</h2>
<table id="cgpaTable">
<tr><th>Semester</th><th>Credits</th><th>GPA</th></tr>
<tr>
<td><input></td>
<td><input type="number" class="semCredit"></td>
<td><input type="number" step="0.01" class="semGPA"></td>
</tr>
</table>
<button class="btn" onclick="addCGPARow()">Add Semester</button>
<button class="btn" onclick="calcCGPA()">Calculate CGPA</button>
<div class="result" id="cgpaResult"></div>
<div id="cgpaMsg" class="msg hidden"></div>
</div>

<!-- ATTENDANCE -->
<div id="attendance" class="section card attendance">
<h2>Attendance</h2>
<input id="total" placeholder="Total Classes">
<input id="attended" placeholder="Attended Classes">
<button class="btn" onclick="calcAttendance()">Calculate</button>
<div class="result" id="attResult"></div>
<div class="progress"><div id="attBar"></div></div>
<div id="attMsg" class="msg hidden"></div>
<div class="result" id="attRecover"></div>
</div>

<!-- INTERNAL -->
<div id="internal" class="section card internal">
<h2>Internal Marks</h2>
<select id="stype" onchange="toggleInternal()">
<option value="">Select Subject Type</option>
<option value="theory">Theory</option>
<option value="integrated">Integrated</option>
</select>

<div id="theory" class="hidden">
<input id="t1" placeholder="Test 1">
<input id="t2" placeholder="Test 2">
<input id="t3" placeholder="Test 3">
<input id="ta" placeholder="Attendance (5)">
<input id="ts" placeholder="Assignment (5)">
</div>

<div id="integrated" class="hidden">
<input id="i1" placeholder="Test 1 (20)">
<input id="i2" placeholder="Test 2 (20)">
<input id="lab" placeholder="Lab (20)">
<input id="ia" placeholder="Attendance (5)">
<input id="is" placeholder="Assignment (5)">
</div>

<button class="btn" onclick="calcInternal()">Calculate</button>
<div class="result" id="intResult"></div>
<div id="intMsg" class="msg hidden"></div>
</div>

</div>

  <footer><b>Created By Varshith G S (VTU 27888) || © All Rights Reserved</b></footer>

<script>
function proceed(){
 if(!sname.value||!regno.value||!dept.value||!sem.value){
  profileError.classList.remove("hidden");return;
 }
 profileCard.classList.add("hidden");
 calculatorArea.classList.remove("hidden");
 helloText.innerText="Hello, "+sname.value;
 profileSummary.innerText=`${sname.value} | ${regno.value} | ${dept.value} | Sem ${sem.value}`;
}
function editProfile(){
 calculatorArea.classList.add("hidden");
 profileCard.classList.remove("hidden");
}
function show(id,btn){
 document.querySelectorAll('.section').forEach(s=>s.style.display='none');
 document.querySelectorAll('.menu button').forEach(b=>b.classList.remove('active'));
 document.getElementById(id).style.display='block';
 btn.classList.add('active');
}
function addGPARow(){
 gpaTable.insertRow().innerHTML=`
 <td><input></td>
 <td><input type="number" class="credit"></td>
 <td>
 <select class="grade">
 <option value="">Select</option>
 <option value="10">S</option>
 <option value="9">A</option>
 <option value="8">B</option>
 <option value="7">C</option>
 <option value="6">D</option>
 <option value="0">RA</option>
 </select></td>`;
}
function calcGPA(){
 let tc=0,tp=0,ra=0;
 document.querySelectorAll('.credit').forEach((c,i)=>{
  let g=document.querySelectorAll('.grade')[i].value;
  if(c.value&&g){tc+=+c.value;tp+=c.value*g;if(g==0)ra++;}
 });
 let gpa=(tp/tc).toFixed(2);
 gpaResult.innerText="GPA: "+gpa;
 gpaMsg.classList.remove("hidden");
 gpaMsg.style.background=gpa<6||ra>0?"var(--danger)":gpa<7.5?"var(--orange)":"var(--green)";
 gpaMsg.innerText=gpa<6||ra>0?"Poor GPA / RA detected":gpa<7.5?"Average GPA":"Good GPA";
}
function addCGPARow(){
 cgpaTable.insertRow().innerHTML=`
 <td><input></td>
 <td><input type="number" class="semCredit"></td>
 <td><input type="number" step="0.01" class="semGPA"></td>`;
}
function calcCGPA(){
 let tc=0,sum=0;
 document.querySelectorAll('.semCredit').forEach((c,i)=>{
  let g=document.querySelectorAll('.semGPA')[i].value;
  if(c.value&&g){tc+=+c.value;sum+=c.value*g;}
 });
 let cgpa=(sum/tc).toFixed(2);
 cgpaResult.innerText="CGPA: "+cgpa;
 cgpaMsg.classList.remove("hidden");
 cgpaMsg.style.background=cgpa<6?"var(--danger)":cgpa<7?"var(--orange)":"var(--green)";
 cgpaMsg.innerText=cgpa<6?"At Risk":cgpa<7?"Weak Standing":"Good Standing";
}
function calcAttendance(){
 let t=+total.value,a=+attended.value;
 let p=(a/t)*100;
 attResult.innerText="Attendance: "+p.toFixed(2)+"%";
 let color=p>=80?"var(--green)":p>=75?"var(--orange)":"var(--danger)";
 attBar.style.width=p+"%";attBar.style.background=color;
 attMsg.classList.remove("hidden");
 attMsg.style.background=p<75?"var(--danger)":"var(--green)";
 attMsg.innerText=p<75?"Below 75% – Exam Debar Risk":"Attendance Acceptable";
 attRecover.innerText=`Classes needed → 75%: ${Math.ceil((0.75*t-a)/(1-0.75))},
 80%: ${Math.ceil((0.8*t-a)/(1-0.8))},
 90%: ${Math.ceil((0.9*t-a)/(1-0.9))}`;
}
function toggleInternal(){
 theory.classList.add("hidden");
 integrated.classList.add("hidden");
 if(stype.value==="theory")theory.classList.remove("hidden");
 if(stype.value==="integrated")integrated.classList.remove("hidden");
}
function calcInternal(){
 let internal=0;
 if(stype.value==="theory"){
  internal=(+t1.value+ +t2.value+ +t3.value)/3 + +ta.value + +ts.value;
 }
 if(stype.value==="integrated"){
  internal=(+i1.value+ +i2.value)/2 + +lab.value + +ia.value + +is.value;
 }
 internal=internal.toFixed(2);
 intResult.innerText="Internal: "+internal;
 intMsg.classList.remove("hidden");
 intMsg.style.background=internal<23?"var(--danger)":internal>35?"var(--green)":"var(--orange)";
 intMsg.innerText=internal<23?
 `Very low internal. Need ${(23-internal)+27} / 50 in end sem`:
 internal>35?"Excellent internal marks":"Average internal";
}
</script>

</body>
</html>
